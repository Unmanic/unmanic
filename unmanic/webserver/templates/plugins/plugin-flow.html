{% extends "../iframe_settings_pages_layout.html" %}
{% block title %}Plugins | Unmanic{% end %}
{% block page %}plugins{% end %}

{% block head %}
<link rel="stylesheet" type="text/css" href="/assets/css/plugins.css?version={{ escape(handler.config.read_version()) }}"/>
<link rel="stylesheet" type="text/css" href="/assets/css/plugin-repo.css?version={{ escape(handler.config.read_version()) }}"/>
{% end %}

{% block page_plugin_styles %}
{# START DATATABLES #}
<link rel="stylesheet" type="text/css"
      href="/assets/plugins/datatables/datatables.min.css?version={{ escape(handler.config.read_version()) }}"/>
<link rel="stylesheet" type="text/css"
      href="/assets/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css?version={{ escape(handler.config.read_version()) }}"/>
{# END DATATABLES #}
{% end %}
{% block page_plugins %}
{# START DATATABLES #}
<script type="text/javascript"
        src="/assets/js/datatable.js?version={{ escape(handler.config.read_version()) }}"></script>
<script type="text/javascript"
        src="/assets/plugins/datatables/datatables.min.js?version={{ escape(handler.config.read_version()) }}"></script>
<script type="text/javascript"
        src="/assets/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js?version={{ escape(handler.config.read_version()) }}"></script>
{# END DATATABLES #}
{% end %}

{% block vendor_style %}
{# START JQUERY.FLOWCHART #}
<link rel="stylesheet" type="text/css"
      href="/assets/vendor/jquery-ui-dist/jquery-ui.css?version={{ escape(handler.config.read_version()) }}"/>
<link rel="stylesheet" type="text/css"
      href="/assets/vendor/jquery.flowchart/jquery.flowchart.css?version={{ escape(handler.config.read_version()) }}"/>
{# END JQUERY.FLOWCHART #}
{% end %}
{% block vendor_scripts %}
{# START JQUERY.FLOWCHART #}
<script type="text/javascript"
        src="/assets/vendor/jquery-ui-dist/jquery-ui.js?version={{ escape(handler.config.read_version()) }}"></script>
<script type="text/javascript"
        src="/assets/vendor/jquery.flowchart/jquery.flowchart.js?version={{ escape(handler.config.read_version()) }}"></script>
{# END JQUERY.FLOWCHART #}
{% end %}

{% block page_theme_scripts %}
{# START PAGE COMPONENTS #}
<script type="text/javascript"
        src="/assets/js/page_components/plugins/plugins.js?version={{ escape(handler.config.read_version()) }}"></script>
<script type="text/javascript"
        src="/assets/js/page_components/plugins/plugin-flow.js?version={{ escape(handler.config.read_version()) }}"></script>
{# END PAGE COMPONENTS #}
{% end %}

{% block content %}


{% for option in data.get('plugin_types') %}
<div class="row">
    <div class="col-lg-12">

        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption">
                    <span class="caption-subject font-red bold uppercase">
                        {{ escape(option.get('name')) }}
                    </span>
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse"> </a>
                </div>
            </div>

            <div class="portlet-body" id="configure-plugin-flow-body">
                <div class="plugin-flowchart-details">
                    <input type="hidden" name="plugin_type_id" id="plugin_type_id"
                           value="{{ escape(option.get('id')) }}">

                    <input type="hidden" name="plugin_type" id="plugin_type"
                           value="{{ escape(option.get('plugin_type')) }}">

                </div>
                <div id="{{ escape(option.get('id')) }}_plugin_flowchart_container" class="plugin-flowchart-container">

                </div>

                <br>
                <button type="button" class="btn green plugin_flow_save"
                        id="{{ escape(option.get('id')) }}_plugin_flow_save">
                    Save Flow
                </button>
            </div>
        </div>
    </div>
</div>
{% end %}

{% end %}
